<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Segment Routing Website</title>

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h3 class="title">Segment Routing</h3>
      <nav>
        <ul>
          <li><a href="index.html">1. Introdução</a></li>
          <li>
            <a href="comoFunciona.html">2. Como funciona</a>
          </li>
          <li>
            <a href="fundamentos.html">3. Fundamentos e Arquitetura</a>
          </li>

          <li>
            <a href="vantagens.html">4. Vantagens</a>
          </li>

          <li><a href="perguntas.html">6. Perguntas</a></li>
          <li><a href="referencias.html">7. Referências</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <section id="related-technologies-and-protocols">
        <h1>2. Como Funciona</h1>

        <div class="imgContainer">
          <img src="./foto redes complexas.jpg" alt="" />
          <p class="description">Fonte: fstelecom¹</p>
        </div>
        <p>
          O cenário das redes atual é impulsionado por novas e diversas demandas
          empresariais, tais como a necessidade de otimizar a utilização de cada
          elo da rede, garantir <strong>alto desempenho</strong>, alcançar
          <strong>escalabilidade</strong>, <strong>flexibilidade</strong>,
          <strong>alta disponibilidade</strong>, além da simplificação das
          operações, entre outros aspectos. Essa mudança nos requisitos destaca
          a urgência de adotar abordagens baseadas em software para automatizar
          e gerenciar as redes, ou seja, permitir que o
          <strong>software defina a estrutura da rede</strong>. Em resposta a
          essa exigência, surgiu a arquitetura de
          <strong>roteamento por segmento</strong>.
        </p>

        <p>
          A evolução do roteamento por segmento teve sua origem no
          <strong>Multiprotocol Label Switching (MPLS)</strong>. Para
          compreender o MPLS, é crucial ter uma compreensão sólida do roteamento
          IP. No contexto do roteamento IP, um conjunto de protocolos é
          responsável por determinar a rota que um pacote deve seguir, desde sua
          origem até o destino, atravessando uma série de roteadores em diversas
          redes. Essa interconexão complexa destaca a importância de abordagens
          inovadoras, como o roteamento por segmento, para atender às exigências
          dinâmicas do ambiente de rede atual.
        </p>

        <h2>Multi-Protocol Label Switching (MPLS)</h2>

        <div class="imgContainer">
          <img src="./rede mpls.png" alt="" />
          <p class="description">Fonte: Huawei²</p>
        </div>

        <p>
          O <strong>Multi-Protocol Label Switching</strong>, conhecido como
          MPLS, representa um mecanismo de encaminhamento que se baseia em
          rótulos. Esses rótulos, simples números binários, são utilizados pela
          tabela de encaminhamento do dispositivo receptor para determinar a
          interface de saída em direção ao próximo salto. O procedimento
          consiste na troca do rótulo de entrada pelo rótulo de saída,
          encaminhando o pacote para o próximo dispositivo ao longo da rede.
          Esse processo é repetido sequencialmente até que o pacote alcance seu
          destino final. Para a eficácia do MPLS, são implementados dois tipos
          distintos de roteadores:
        </p>

        <ul>
          <li>
            <u>Label Edge Routers (LER)</u>, responsáveis pela atribuição de
            rótulos nos pacotes de dados
          </li>

          <li>
            <u>Label Switch Routers (LSR)</u>, encarregados da comutação desses
            rótulos ao longo do percurso do pacote.
          </li>
        </ul>

        <p>
          A manutenção de um plano de controle mais complexo no contexto do MPLS
          resulta em custos elevados. Uma solução eficaz para mitigar esses
          desafios é interconectar todos os nós da rede a um controlador,
          estabelecendo uma comunicação através de um protocolo comum. Com isso,
          a gestão é simplificada, concentrando-se apenas no roteador de origem
          ou no controlador, conferindo à infraestrutura maior programabilidade
          e escalabilidade. Essa abordagem deu origem à
          <strong>arquitetura de roteamento por segmento</strong>, a qual se
          destaca por sua notável flexibilidade, escalabilidade aprimorada,
          menor complexidade e facilidade operacional em comparação com as
          abordagens de Roteamento IP ou MPLS.
        </p>

        <h2>Segment Routing (SR)</h2>

        <p>
          <strong>Segment Routing (SR)</strong> apresenta diversas vantagens
          significativas quando comparado a outros protocolos MPLS, como LDP e
          RSVP-TE. Uma das principais distinções reside na eliminação da
          necessidade de implementar LDP ou RSVP-TE no roteamento por segmentos.
          Em vez disso, o SR utiliza um Protocolo de Gateway Interno (IGP) para
          a distribuição de marcações e o cálculo de caminhos, tudo isso sem a
          necessidade de modificar a arquitetura MPLS existente. O SR destaca-se
          em vários aspectos:
        </p>

        <h3>Protocolo de Controle:</h3>
        <ul>
          <li>
            <u>Segment Routing:</u> Utiliza um IGP para controle, simplificando
            o gerenciamento e evitando a necessidade de outros protocolos
            complexos, como LDP, RSVP-TE, BGP, ou IGP.
          </li>
          <li>
            <u>MPLS:</u> Dependente de LDP, RSVP-TE, BGP e/ou IGP para controle,
            resultando em uma configuração mais complexa.
          </li>
        </ul>

        <h3>Distribuição das Marcações:</h3>
        <ul>
          <li>
            <u>Segment Routing:</u> Adiciona uma marcação para cada adjacência
            ou nó, independente do número de túneis, reduzindo
            significativamente a demanda por recursos.
          </li>
          <li>
            <u>MPLS:</u> A distribuição de marcações aumenta conforme o número
            de túneis, demandando mais recursos.
          </li>
        </ul>

        <h3>Ajustes de Caminho e Controle:</h3>
        <ul>
          <li>
            <u>Segment Routing:</u> A re-computação e ajuste de controle são
            executados pelo ingressante, simplificando o processo.
          </li>
          <li>
            <u>MPLS:</u> Necessidade de entrega de configurações nó a nó para
            ajustes de caminho e controle, tornando o processo mais complexo.
          </li>
        </ul>

        <p>
          Segment Routing delineia de maneira precisa a trajetória que um pacote
          deve percorrer na rede. Em termos mais simplificados, esses segmentos
          representam as instruções que orientam o pacote em sua jornada em
          direção ao destino desejado. Uma observação crucial é que, neste
          contexto, o <strong>estado completo de encaminhamento</strong> do
          fluxo de tráfego reside no <strong>próprio pacote</strong>, não na
          infraestrutura de rede.
        </p>

        <p>
          O roteador de origem no Segment Routing, detém o
          <strong> conhecimento de todos os identificadores (SIDs) </strong>
          necessários para atingir o destino. Isso implica que os estados por
          fluxo são mantidos apenas na origem, simplificando a gestão da rede. A
          quantidade de entradas na tabela SR-FIB em qualquer nó específico é
          determinada pela soma do <strong>numero de segmentos</strong> com o
          <strong>numero de segmentos adjascentes.</strong>
        </p>

        <p>
          Um conceito relevante no Segment Routing é o "<strong
            >segmento ativo</strong
          >", que varia de acordo com a natureza da rede. Nas redes MPLS, o
          segmento ativo é representado pelo rótulo mais externo, enquanto nas
          redes IPv6, é um ponteiro para o SID. Essa abordagem inovadora
          proporciona uma gestão mais eficiente e flexível do encaminhamento de
          pacotes, simplificando a arquitetura da rede e aprimorando a agilidade
          operacional.
        </p>

        <h2>Implementação do Segment Routing IPv6 (SRv6)</h2>

        <div class="imgContainer">
          <img src="./ipv6.png" alt="" />
          <p class="description">Fonte: researchgate⁴</p>
        </div>
        <ul>
          <li>
            <p>
              <u>Estrutura do Pacote IPv6:</u>
              Um pacote IPv6 padrão consiste em um cabeçalho IPv6 convencional,
              cabeçalhos estendidos (0..n) e o payload.
            </p>
          </li>
          <li>
            <p>
              <u>Adição do Segment Routing Header (SRH):</u>
              Para implementar o SRv6, é necessário adicionar uma extensão
              específica chamada Segment Routing Header (SRH). O SRH especifica
              um caminho e armazena uma lista de informações de segmentos IPv6.
            </p>
          </li>

          <li>
            <p>
              <u>Lista de Segmentos no SRH:</u>
              A lista de segmentos no SRH é codificada na extensão do cabeçalho,
              sendo planejada pela fonte. Essa lista funciona de maneira análoga
              ao SR MPLS, indicando os segmentos pelos quais o pacote deve
              passar.
            </p>
          </li>

          <li>
            <p>
              <u>Codificação da Lista de Segmentos:</u>
              A lista de segmentos pode ser baseada em protocolos de roteamento
              interno (IGP) ou no protocolo de gateway de borda (BGP),
              oferecendo flexibilidade na definição do caminho.
            </p>
          </li>

          <li>
            <p>
              <u>Atualização Gradual da Tecnologia:</u>
              Uma característica notável é a capacidade de operar com ou sem SR,
              permitindo uma adoção gradual da tecnologia. Não é necessária uma
              atualização em toda a rede, possibilitando a convivência
              harmoniosa de dispositivos compatíveis com SRv6 e aqueles que não
              o suportam.
            </p>
          </li>

          <li>
            <p>
              <u>Encaminhamento com Base nas Informações do SRH:</u>
              A entrada do SRH é adicionada ao pacote IPv6 pela fonte. Cada nó
              de trânsito, ao receber o pacote, encaminha-o com base nas
              informações de caminho carregadas no SRH.
            </p>
          </li>
        </ul>

        <p>
          Ao seguir esses passos, é possível implementar o Segment Routing IPv6
          com eficácia, aproveitando as extensões do cabeçalho IPv6 para inserir
          as informações necessárias de roteamento e possibilitar a criação de
          caminhos explícitos e personalizados na rede IPv6. Essa abordagem
          oferece uma flexibilidade notável e suporte para a evolução gradual
          das redes para essa tecnologia inovadora.
        </p>

        <div class="imgContainer">
          <img src="./ipv6 x mpls.png" alt="" />
          <p class="description">Fonte: Huawei³</p>
        </div>
      </section>
      <div class="rodapeContainer">
        <p class="rodape">
          ¹Disponível em:
          <a
            class="link"
            href="https://www.fstelecom.com.br/descubra-a-funcionabilidade-de-uma-estrutura-de-redes/"
          >
            https://www.fstelecom.com.br/descubra-a-funcionabilidade-de-uma-estrutura-de-redes/
          </a>
        </p>
        <p class="rodape">
          ²Disponível em:
          <a
            class="link"
            href="https://support.huawei.com/enterprise/br/doc/EDOC1100270080/e1707d39/understanding-mpls"
          >
            https://support.huawei.com/enterprise/br/doc/EDOC1100270080/e1707d39/understanding-mpls
          </a>
        </p>
        <p class="rodape">
          ²Disponível em:
          <a
            class="link"
            href="https://info.support.huawei.com/info-finder/encyclopedia/en/G-SRv6.html"
          >
            https://info.support.huawei.com/info-finder/encyclopedia/en/G-SRv6.html
          </a>
        </p>
      </div>
    </main>
    <footer>
      <p>Copyright © 2023. All rights reserved.</p>
    </footer>
  </body>
</html>
